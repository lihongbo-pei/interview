# Linux

## 你平时是怎么查看日志的？

一、实时日志监控（动态跟踪）

1、基础命令

```bash
# 实时追踪最新日志
tail -f app.log
# 实时过滤错误日志
tail -f app.log | grep "ERROR"
```

2、多文件追踪

```bash
# 同时监控多个日志文件
multitail app.log -I api.log  # -I 表示合并到一个窗口显示
# 通配符匹配多个服务日志
tail -f service_*.log
```

二、历史日志检索（（静态分析）

1、关键词搜索

```bash
# 基础搜索
grep "NullPointer" app.log
# 显示匹配行前后 10 行(Context)
grep -C 10 "OrderlD:123" app.log
#递归搜索目录
grep -r "fonnectionTimeout" /var/log//
```

## 软连接和硬链接

### 如何在Linux中查看进程号？

1. 使用 `ps` 命令

   `ps` 命令用于显示当前系统中运行的进程信息。通过不同的选项，可以查看进程号。

   ```bash
   # 列出所有进程，包括进程号（PID）
   ps -e
   # 显示更详细的信息，包括用户、进程号、父进程号、CPU 使用率等。
   ps -ef
   # 根据特定条件过滤
   ps -ef | grep [进程名]
   ```

2. 使用 `top` 命令

   `top` 命令提供了一个动态更新的进程列表，显示当前系统中占用资源最多的进程。

3. 使用 `pgrep` 命令

   `pgrep` 命令可以根据进程名或其他属性查找进程号。

   ```bash
   # 按进程名查找
   pgrep [进程名]
   # 按用户查找
   pgrep -u [用户名] [进程名]
   ```

4. 使用 `pidof` 命令

   `pidof` 命令可以根据进程名查找进程号。

   

### 说一说常用的 Linux 命令

1、kill

```bash
kill [选项] 进程ID
```

常用选项：

- `-n<信号编号` ：通过信号编号发送信号。

示例：

```bash
# 向进程 ID 为 1234 的进程发送 SIGKILL 信号，强制终止进程。
kill -9 1234
```

2、chmod

```bash
chmod [选项] 模式 文件或目录
```

示例：

```bash
# 将文件或目录的权限设置为所有用户（所有者、所属组、其他用户）都拥有读（r）、写（w）和执行（x）权限。
chmod 777 file.txt
```

3、其他常用命令

- cd     切换目录
- pwd     显示当前工作目录
- touch   创建空文件
- mkdir   创建一个新目录
  - -p  创建多级目录
- cp    复制文件或者目录
  - -r  递归处理，将指定目录下的文件与子目录一并拷贝
- mv    移动文件或目录、文件或目录改名
- rm     删除文件
  - -r  同时删除该目录下的所有文件
  - -f  强制删除文件或目录
- cat    显示文本文件内容
- more    分页显示文本内容，可前后翻页，空格向后翻页，b向前翻页
- head    查看文本开头部分，默认十行
  - -[num]  查看文本开头部分指定行数
- tail  查看文本结尾部分，默认十行
  - -[num]  查看文本结尾部分指定行数
  - -f    循环滚动读取文件并动态显示在屏幕上，根据文件属性追踪  
  - -F    循环滚动读取文件并动态显示在屏幕上，文件文件名追踪

- wc    统计文本行数，字数，字符数
  - -m  字符数
  - -w  文本字数
  - -l  文本行数
- find  / -name 在文件系统的指定目录下查找指定的文件
- grep    在指定的文件中查找指定内容的行

- ln    建立链接文件
- scp 远程传输文件

data.txt

```
apple,5
banana,10
orange,8
```

将文件 "data.txt" 中每一行的逗号替换为冒号，并输出每一行的第一个字段

```bash
# sed（stream editor）
sed 's/,/:/' data.txt | awk -F: '{print $1}'
```

- `'s/,/:/'`：这是一个替换命令，格式为 `s/原字符串/新字符串/`。在这里，它将文件中的所有逗号（`,`）替换为冒号（`:`）。
- `-F:`：指定了字段分隔符为冒号（`:`）。`awk` 默认使用空格作为字段分隔符。
